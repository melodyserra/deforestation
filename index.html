<!doctype html>
<html>
    <head>
        <title>Deforestation Tracker</title>
        <link
            rel="stylesheet"
            href="https://unpkg.com/leaflet/dist/leaflet.css"
        />
        <style>
            #map {
                height: 600px;
            }
        </style>
    </head>
    <body>
        <h1>Deforestation Over Time</h1>
        <div id="map"></div>
        <input
            type="range"
            id="yearSlider"
            min="2000"
            max="2023"
            value="2023"
            step="1"
            oninput="updateYear(this.value)"
        />
        <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
        <script>
            // Initialize the map
            var map = L.map("map").setView([0, 0], 2); // Set the default view to the whole globe

            L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
                attribution: "Map data Â© OpenStreetMap contributors",
            }).addTo(map);

            // Function to update the map based on year
            function updateYear(year) {
                // Fetch new data for the selected year (use your backend API here)
                fetch(`/get_deforestation_data?year=${year}`)
                    .then((response) => response.json())
                    .then((data) => {
                        // Clear existing layers, and add new data based on deforestation
                        // Add your layers for deforestation heatmaps or overlays
                    });
            }
        </script>
    </body>
</html>
